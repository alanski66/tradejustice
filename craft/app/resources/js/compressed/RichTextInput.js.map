{"version":3,"sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","assetSources","elementLocale","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","callbacks","handleRedactorInit","initRedactor","livePreview","on","proxy","core","destroy","mergeCallbacks","callback1","callback2","apply","arguments","toolbarFixed","target","closest","toolbarFixedTarget","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","scrollPageOnReady","$doc","ready","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","locale","kind","onSelect","assets","transform","restore","asset","url","insert","node","imageTag","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","elementTypeHandle","replace","match","toLowerCase","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","$placeholder","addAfter","$btn","build","icon","parent","after","append","jQuery"],"mappings":"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","file":"RichTextInput.js"}